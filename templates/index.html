<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raspberry Pi Sens√∂r Kontrol Paneli</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>üçì Raspberry Pi 4 Kontrol Paneli</h1>
            <p class="subtitle">Sens√∂r Okuma ve Servo Motor Kontrol√º</p>
        </header>

        <!-- Ana ƒ∞√ßerik -->
        <main class="main-content">
            
            <!-- Sens√∂r Verileri B√∂l√ºm√º -->
            <section class="panel sensor-panel">
                <h2>üìä Sens√∂r Verileri</h2>
                
                <!-- Ultrasonik Sens√∂r -->
                <div class="data-card">
                    <div class="card-header">
                        <h3>üìè Ultrasonik Sens√∂r (HC-SR04)</h3>
                        <span id="sensor-status" class="status-badge status-active">AKTƒ∞F</span>
                    </div>
                    <div class="data-value">
                        <span id="distance-value">0.00</span>
                        <span class="unit">cm</span>
                    </div>
                    <div class="sensor-controls">
                        <button id="btn-sensor-on" class="btn btn-success" onclick="sensorControl(true)">
                            ‚ñ∂ Sens√∂r√º A√ß
                        </button>
                        <button id="btn-sensor-off" class="btn btn-danger" onclick="sensorControl(false)">
                            ‚èπ Sens√∂r√º Kapat
                        </button>
                    </div>
                </div>
                
                <!-- IMU Sens√∂r -->
                <div class="data-card">
                    <div class="card-header">
                        <h3>üéØ IMU Sens√∂r (MPU-6050)</h3>
                        <span id="imu-status" class="status-badge status-active">AKTƒ∞F</span>
                    </div>
                    <div class="imu-grid">
                        <div class="imu-section">
                            <h4>ƒ∞vme (m/s¬≤)</h4>
                            <div class="imu-values">
                                <div class="imu-item">
                                    <span class="label">X:</span>
                                    <span id="accel-x" class="value">0.000</span>
                                </div>
                                <div class="imu-item">
                                    <span class="label">Y:</span>
                                    <span id="accel-y" class="value">0.000</span>
                                </div>
                                <div class="imu-item">
                                    <span class="label">Z:</span>
                                    <span id="accel-z" class="value">9.810</span>
                                </div>
                            </div>
                        </div>
                        <div class="imu-section">
                            <h4>Gyro (¬∞/s)</h4>
                            <div class="imu-values">
                                <div class="imu-item">
                                    <span class="label">X:</span>
                                    <span id="gyro-x" class="value">0.00</span>
                                </div>
                                <div class="imu-item">
                                    <span class="label">Y:</span>
                                    <span id="gyro-y" class="value">0.00</span>
                                </div>
                                <div class="imu-item">
                                    <span class="label">Z:</span>
                                    <span id="gyro-z" class="value">0.00</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Rotasyon Deƒüerleri -->
                    <div class="rotation-display">
                        <div class="rotation-item">
                            <span class="label">X Rotasyon:</span>
                            <span id="rotation-x" class="value">0.00</span>
                            <span class="unit">¬∞</span>
                        </div>
                        <div class="rotation-item">
                            <span class="label">Y Rotasyon:</span>
                            <span id="rotation-y" class="value">0.00</span>
                            <span class="unit">¬∞</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Servo Motor Kontrol B√∂l√ºm√º -->
            <section class="panel servo-panel">
                <h2>‚öôÔ∏è Servo Motor Kontrol√º</h2>
                
                <div class="data-card">
                    <div class="card-header">
                        <h3>üîÑ Servo Pozisyonu</h3>
                        <span class="pin-info">GPIO 18</span>
                    </div>
                    
                    <div class="servo-display">
                        <div class="servo-visual">
                            <div class="servo-arm" id="servo-arm"></div>
                            <div class="servo-body"></div>
                        </div>
                        <div class="servo-angle">
                            <span id="servo-angle-value">90</span>
                            <span class="unit">¬∞</span>
                        </div>
                    </div>
                    
                    <div class="servo-controls">
                        <button class="btn btn-servo" onclick="moveServo(0)">
                            0¬∞
                        </button>
                        <button class="btn btn-servo" onclick="moveServo(45)">
                            45¬∞
                        </button>
                        <button class="btn btn-servo btn-center" onclick="moveServo(90)">
                            90¬∞
                        </button>
                        <button class="btn btn-servo" onclick="moveServo(135)">
                            135¬∞
                        </button>
                        <button class="btn btn-servo" onclick="moveServo(180)">
                            180¬∞
                        </button>
                    </div>
                    
                    <!-- √ñzel A√ßƒ± Giri≈üi -->
                    <div class="custom-angle">
                        <input type="number" id="custom-angle-input" min="0" max="180" value="90" placeholder="A√ßƒ± (0-180)">
                        <button class="btn btn-primary" onclick="moveServoCustom()">
                            G√∂nder
                        </button>
                    </div>
                </div>
            </section>

            <!-- DC Motor Kontrol B√∂l√ºm√º -->
            <section class="panel motor-panel">
                <h2>üîå DC Motor Kontrol√º</h2>
                
                <div class="data-card">
                    <div class="card-header">
                        <h3>‚ö° Motor Durumu</h3>
                        <span id="motor-status" class="status-badge status-inactive">DURDURULDU</span>
                    </div>
                    
                    <div class="motor-display">
                        <div class="motor-info">
                            <div class="motor-stat">
                                <span class="label">Y√∂n:</span>
                                <span id="motor-direction" class="value">-</span>
                            </div>
                            <div class="motor-stat">
                                <span class="label">Hƒ±z:</span>
                                <span id="motor-speed-value" class="value">0</span>
                                <span class="unit">%</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Y√∂n Kontrolleri -->
                    <div class="motor-controls">
                        <button id="btn-motor-backward" class="btn btn-motor btn-backward" onclick="motorControl('backward')">
                            ‚¨ÖÔ∏è Geri
                        </button>
                        <button id="btn-motor-stop" class="btn btn-motor btn-stop" onclick="motorControl('stop')">
                            ‚èπÔ∏è Dur
                        </button>
                        <button id="btn-motor-forward" class="btn btn-motor btn-forward" onclick="motorControl('forward')">
                            ƒ∞leri ‚û°Ô∏è
                        </button>
                    </div>
                    
                    <!-- Fren Butonu -->
                    <div class="motor-brake">
                        <button id="btn-motor-brake" class="btn btn-danger btn-full" onclick="motorControl('brake')">
                            üõë Acil Fren
                        </button>
                    </div>
                    
                    <!-- Hƒ±z Kontrol√º -->
                    <div class="speed-control">
                        <label for="motor-speed">Motor Hƒ±zƒ±: <span id="speed-display">50</span>%</label>
                        <input type="range" id="motor-speed" min="0" max="100" value="50" oninput="updateSpeedDisplay(this.value)">
                        <div class="speed-presets">
                            <button class="btn btn-small" onclick="setMotorSpeed(25)">25%</button>
                            <button class="btn btn-small" onclick="setMotorSpeed(50)">50%</button>
                            <button class="btn btn-small" onclick="setMotorSpeed(75)">75%</button>
                            <button class="btn btn-small" onclick="setMotorSpeed(100)">100%</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sistem Durumu -->
            <section class="panel status-panel">
                <h2>üñ•Ô∏è Sistem Durumu</h2>
                <div class="status-grid">
                    <div class="status-item">
                        <span class="status-label">Baƒülantƒ±:</span>
                        <span id="connection-status" class="status-value connected">Baƒülƒ±</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Son G√ºncelleme:</span>
                        <span id="last-update" class="status-value">--:--:--</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Polling:</span>
                        <span class="status-value">500ms</span>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Raspberry Pi 4 - Flask Web Sunucusu | GPIO: Servo(17), TRIG(23), ECHO(24)</p>
        </footer>
    </div>

    <!-- Bildirim Alanƒ± -->
    <div id="notification" class="notification hidden"></div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
